{"ast":null,"code":"import _regeneratorRuntime from\"/Users/arunmehra/Desktop/chatApp/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/arunmehra/Desktop/chatApp/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/arunmehra/Desktop/chatApp/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Button,FormControl,FormLabel,Input,InputGroup,InputRightElement,VStack}from\"@chakra-ui/react\";import{useToast}from'@chakra-ui/react';import axios from\"axios\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),Email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),Password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var handleClick=function handleClick(){return setShow(!show);};var toast=useToast();var history=useHistory();var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var config,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);if(!(!Email||!Password)){_context.next=5;break;}toast({title:\"Please enter all fields\",status:\"error\",duration:3000,isClosable:true,position:\"bottom\"});setLoading(false);return _context.abrupt(\"return\");case 5:_context.prev=5;config={headers:{'Content-Type':'application/json'}};_context.next=9;return axios.post('/api/user/login',{email:Email,password:Password},config);case 9:_yield$axios$post=_context.sent;data=_yield$axios$post.data;toast({title:\"Logged in successfully\",status:\"success\",duration:3000,isClosable:true,position:\"bottom\"});localStorage.setItem('userInfo',JSON.stringify(data));setLoading(false);history.push('/chats');_context.next=21;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](5);toast({title:\"Error Occured!\",description:_context.t0.response.data.message,status:\"error\",duration:5000,isClosable:true,position:\"bottom\"});setLoading(false);case 21:case\"end\":return _context.stop();}},_callee,null,[[5,17]]);}));return function submitHandler(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(VStack,{spacing:\"5px\",children:[/*#__PURE__*/_jsxs(FormControl,{id:\"email2\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Email\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",placeholder:\"Enter Your Email\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(FormControl,{id:\"password2\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Password\"}),/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(Input,{type:show?\"text\":\"password\",placeholder:\"Enter Your Password\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(InputRightElement,{width:'4.5rem',children:/*#__PURE__*/_jsx(Button,{color:\"blackAlpha.500\",h:'1.75rem',size:'sm',onClick:handleClick,children:show?\"Hide\":\"Show\"})})]})]}),/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",color:\"white\",width:\"100%\",style:{marginTop:20},onClick:submitHandler,isLoading:loading,children:\"Login\"}),/*#__PURE__*/_jsx(Button,{variant:\"solid\",colorScheme:\"red\",width:\"100%\",onClick:function onClick(){setEmail(\"guest@gmail.com\");setPassword(\"654321\");},children:\"Get Guest Account\"})]});};export default Login;","map":{"version":3,"names":["React","useState","Button","FormControl","FormLabel","Input","InputGroup","InputRightElement","VStack","useToast","axios","useHistory","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","Email","setEmail","_useState3","_useState4","Password","setPassword","_useState5","_useState6","show","setShow","_useState7","_useState8","loading","setLoading","handleClick","toast","history","submitHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","config","_yield$axios$post","data","wrap","_callee$","_context","prev","next","title","status","duration","isClosable","position","abrupt","headers","post","email","password","sent","localStorage","setItem","JSON","stringify","push","t0","description","response","message","stop","apply","arguments","spacing","children","id","isRequired","type","placeholder","onChange","e","target","value","width","color","h","size","onClick","colorScheme","style","marginTop","isLoading","variant"],"sources":["/Users/arunmehra/Desktop/chatApp/frontend/src/components/Authentication/Login.js"],"sourcesContent":["import React,{useState} from \"react\";\nimport { Button, FormControl, FormLabel, Input, InputGroup, InputRightElement, VStack } from \"@chakra-ui/react\";\nimport { useToast } from '@chakra-ui/react'\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Login = () => {\n\n    const [Email, setEmail] = useState(\"\");\n    const [Password, setPassword] = useState(\"\");\n    const [show, setShow] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const handleClick = () => setShow(!show);\n    const toast = useToast();\n    const history = useHistory();\n\n    const submitHandler = async() => {\n        setLoading(true);\n        if(!Email || !Password) {\n            toast({\n                title: \"Please enter all fields\",\n                status: \"error\",\n                duration: 3000,\n                isClosable: true,\n                position: \"bottom\"\n              });\n              setLoading(false);\n              return;\n        }\n        try{\n            const config = {\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            };\n\n            const {data} = await axios.post('/api/user/login', {email: Email, password: Password}, config);\n\n            toast({\n                title: \"Logged in successfully\",\n                status: \"success\",\n                duration: 3000,\n                isClosable: true,\n                position: \"bottom\"\n              });\n              localStorage.setItem('userInfo', JSON.stringify(data));\n                setLoading(false);\n                history.push('/chats');\n        }\n        catch(error) {\n            toast({\n                title: \"Error Occured!\",\n                description: error.response.data.message,\n                status: \"error\",\n                duration: 5000,\n                isClosable: true,\n                position: \"bottom\"\n              });\n              setLoading(false);\n        }\n    };\n\n\n    return (\n        <VStack spacing={\"5px\"}>\n\n            <FormControl id='email2' isRequired>\n                <FormLabel>Email</FormLabel>\n                <Input type=\"email\" placeholder=\"Enter Your Email\" onChange={(e)=> setEmail(e.target.value)}/>\n            </FormControl>\n            <FormControl id='password2' isRequired>\n                <FormLabel>Password</FormLabel>\n                <InputGroup>\n                <Input type={show? \"text\" :\"password\"} placeholder=\"Enter Your Password\" onChange={(e)=> setPassword(e.target.value)}/>\n                <InputRightElement width={'4.5rem'}>\n                    <Button color={\"blackAlpha.500\"} h={'1.75rem'} size={'sm'} onClick={handleClick}>\n                        {show ? \"Hide\" : \"Show\"}\n                    </Button>\n                </InputRightElement>\n                </InputGroup>\n            </FormControl>\n\n            <Button colorScheme=\"blue\" color={\"white\"} width={\"100%\"} style={{marginTop:20}} onClick={submitHandler} isLoading={loading} >\n                Login\n            </Button>\n\n            <Button variant={\"solid\"} colorScheme={\"red\"} width={\"100%\"} onClick={()=> {setEmail(\"guest@gmail.com\"); setPassword(\"654321\")}}>\n                Get Guest Account\n            </Button>\n        </VStack>\n    );\n};\n\nexport default Login;\n"],"mappings":"6YAAA,MAAO,CAAAA,KAAK,EAAEC,QAAQ,KAAO,OAAO,CACpC,OAASC,MAAM,CAAEC,WAAW,CAAEC,SAAS,CAAEC,KAAK,CAAEC,UAAU,CAAEC,iBAAiB,CAAEC,MAAM,KAAQ,kBAAkB,CAC/G,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9C,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAEhB,IAAAC,SAAA,CAA0BhB,QAAQ,CAAC,EAAE,CAAC,CAAAiB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAAgCrB,QAAQ,CAAC,EAAE,CAAC,CAAAsB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAAwBzB,QAAQ,CAAC,KAAK,CAAC,CAAA0B,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAhCE,IAAI,CAAAD,UAAA,IAAEE,OAAO,CAAAF,UAAA,IACpB,IAAAG,UAAA,CAA8B7B,QAAQ,CAAC,KAAK,CAAC,CAAA8B,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAtCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1B,GAAM,CAAAG,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,QAAS,CAAAL,OAAO,CAAC,CAACD,IAAI,CAAC,GACxC,GAAM,CAAAO,KAAK,CAAG1B,QAAQ,CAAC,CAAC,CACxB,GAAM,CAAA2B,OAAO,CAAGzB,UAAU,CAAC,CAAC,CAE5B,GAAM,CAAA0B,aAAa,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,MAAA,CAAAC,iBAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAClBjB,UAAU,CAAC,IAAI,CAAC,CAAC,KACd,CAACb,KAAK,EAAI,CAACI,QAAQ,GAAAwB,QAAA,CAAAE,IAAA,UAClBf,KAAK,CAAC,CACFgB,KAAK,CAAE,yBAAyB,CAChCC,MAAM,CAAE,OAAO,CACfC,QAAQ,CAAE,IAAI,CACdC,UAAU,CAAE,IAAI,CAChBC,QAAQ,CAAE,QACZ,CAAC,CAAC,CACFtB,UAAU,CAAC,KAAK,CAAC,CAAC,OAAAe,QAAA,CAAAQ,MAAA,kBAAAR,QAAA,CAAAC,IAAA,GAIdN,MAAM,CAAG,CACXc,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAAT,QAAA,CAAAE,IAAA,SAEoB,CAAAxC,KAAK,CAACgD,IAAI,CAAC,iBAAiB,CAAE,CAACC,KAAK,CAAEvC,KAAK,CAAEwC,QAAQ,CAAEpC,QAAQ,CAAC,CAAEmB,MAAM,CAAC,QAAAC,iBAAA,CAAAI,QAAA,CAAAa,IAAA,CAAvFhB,IAAI,CAAAD,iBAAA,CAAJC,IAAI,CAEXV,KAAK,CAAC,CACFgB,KAAK,CAAE,wBAAwB,CAC/BC,MAAM,CAAE,SAAS,CACjBC,QAAQ,CAAE,IAAI,CACdC,UAAU,CAAE,IAAI,CAChBC,QAAQ,CAAE,QACZ,CAAC,CAAC,CACFO,YAAY,CAACC,OAAO,CAAC,UAAU,CAAEC,IAAI,CAACC,SAAS,CAACpB,IAAI,CAAC,CAAC,CACpDZ,UAAU,CAAC,KAAK,CAAC,CACjBG,OAAO,CAAC8B,IAAI,CAAC,QAAQ,CAAC,CAAClB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAmB,EAAA,CAAAnB,QAAA,aAG3Bb,KAAK,CAAC,CACFgB,KAAK,CAAE,gBAAgB,CACvBiB,WAAW,CAAEpB,QAAA,CAAAmB,EAAA,CAAME,QAAQ,CAACxB,IAAI,CAACyB,OAAO,CACxClB,MAAM,CAAE,OAAO,CACfC,QAAQ,CAAE,IAAI,CACdC,UAAU,CAAE,IAAI,CAChBC,QAAQ,CAAE,QACZ,CAAC,CAAC,CACFtB,UAAU,CAAC,KAAK,CAAC,CAAC,yBAAAe,QAAA,CAAAuB,IAAA,MAAA7B,OAAA,iBAE3B,kBA5CK,CAAAL,aAAaA,CAAA,SAAAC,IAAA,CAAAkC,KAAA,MAAAC,SAAA,OA4ClB,CAGD,mBACI1D,KAAA,CAACP,MAAM,EAACkE,OAAO,CAAE,KAAM,CAAAC,QAAA,eAEnB5D,KAAA,CAACZ,WAAW,EAACyE,EAAE,CAAC,QAAQ,CAACC,UAAU,MAAAF,QAAA,eAC/B9D,IAAA,CAACT,SAAS,EAAAuE,QAAA,CAAC,OAAK,CAAW,CAAC,cAC5B9D,IAAA,CAACR,KAAK,EAACyE,IAAI,CAAC,OAAO,CAACC,WAAW,CAAC,kBAAkB,CAACC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAI,CAAA5D,QAAQ,CAAC4D,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CAAC,CAAC,EACrF,CAAC,cACdpE,KAAA,CAACZ,WAAW,EAACyE,EAAE,CAAC,WAAW,CAACC,UAAU,MAAAF,QAAA,eAClC9D,IAAA,CAACT,SAAS,EAAAuE,QAAA,CAAC,UAAQ,CAAW,CAAC,cAC/B5D,KAAA,CAACT,UAAU,EAAAqE,QAAA,eACX9D,IAAA,CAACR,KAAK,EAACyE,IAAI,CAAElD,IAAI,CAAE,MAAM,CAAE,UAAW,CAACmD,WAAW,CAAC,qBAAqB,CAACC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAI,CAAAxD,WAAW,CAACwD,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,CAAC,CAAC,cACvHtE,IAAA,CAACN,iBAAiB,EAAC6E,KAAK,CAAE,QAAS,CAAAT,QAAA,cAC/B9D,IAAA,CAACX,MAAM,EAACmF,KAAK,CAAE,gBAAiB,CAACC,CAAC,CAAE,SAAU,CAACC,IAAI,CAAE,IAAK,CAACC,OAAO,CAAEtD,WAAY,CAAAyC,QAAA,CAC3E/C,IAAI,CAAG,MAAM,CAAG,MAAM,CACnB,CAAC,CACM,CAAC,EACR,CAAC,EACJ,CAAC,cAEdf,IAAA,CAACX,MAAM,EAACuF,WAAW,CAAC,MAAM,CAACJ,KAAK,CAAE,OAAQ,CAACD,KAAK,CAAE,MAAO,CAACM,KAAK,CAAE,CAACC,SAAS,CAAC,EAAE,CAAE,CAACH,OAAO,CAAEnD,aAAc,CAACuD,SAAS,CAAE5D,OAAQ,CAAA2C,QAAA,CAAE,OAE9H,CAAQ,CAAC,cAET9D,IAAA,CAACX,MAAM,EAAC2F,OAAO,CAAE,OAAQ,CAACJ,WAAW,CAAE,KAAM,CAACL,KAAK,CAAE,MAAO,CAACI,OAAO,CAAE,SAAAA,QAAA,CAAK,CAACnE,QAAQ,CAAC,iBAAiB,CAAC,CAAEI,WAAW,CAAC,QAAQ,CAAC,EAAE,CAAAkD,QAAA,CAAC,mBAEjI,CAAQ,CAAC,EACL,CAAC,CAEjB,CAAC,CAED,cAAe,CAAA3D,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}